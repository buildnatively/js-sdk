window.natively={isDebug:!1,min_app_version:0,app_version:0,injected:!1,observers:[],isIOSApp:window.navigator.userAgent.includes("Natively/iOS"),isAndroidApp:window.navigator.userAgent.includes("Natively/Android"),setDebug:function(isDebug){window.natively.isDebug=isDebug},notify:function(min,current){window.natively.injected=!0,min&&(window.natively.min_app_version=min),current&&(window.natively.app_version=current);const observers=window.natively.observers;for(natively.isDebug&&console.log("[INFO] Notify observers: ",observers.length);observers.length>0;){observers.shift()()}},addObserver:function(fn){window.natively.injected?fn():(window.natively.isDebug&&console.log(`[DEBUG] addObserver: ${fn}`),window.natively.observers.push(fn))},trigger:function(respId,minVersion,callback,method,body){const isTestVersion=window.natively.isDebug;if(window.natively.injected)if(minVersion>window.natively.app_version)isTestVersion&&alert(`[ERROR] Please rebuild the app to use this functionality. App Version: ${window.natively.app_version}, feature version: ${minVersion}`);else{if(callback){let fullMethodName;fullMethodName=respId?method+"_response_"+respId:method+"_response",window[fullMethodName]=function(resp,err){$agent.response(),err.message&&isTestVersion?alert(`[ERROR] Error message: ${err.message}`):(isTestVersion&&console.log(`[DEBUG] Callback method: ${fullMethodName}, body: ${JSON.stringify(resp)}, respId: ${respId}`),callback(resp))},body?body.response_id=respId:body={response_id:respId}}isTestVersion&&console.log(`[DEBUG] Trigger method: ${method}, body: ${JSON.stringify(body)}`),$agent.trigger(method,body)}else window.natively.addObserver((()=>{window.natively.trigger(respId,minVersion,callback,method,body)}))},openLogger:function(){$agent.natively_logger()},openConsole:function(){window.natively.trigger(void 0,30,void 0,"app_console")},closeApp:function(){window.natively.trigger(void 0,11,void 0,"app_close")},showProgress:function(toggle){window.natively.trigger(void 0,11,void 0,"app_show_progress",{toggle:toggle})},shareImage(image_url){window.natively.trigger(void 0,0,void 0,"share_image",{url:image_url})},shareText(text){window.natively.trigger(void 0,0,void 0,"share_text",{text:text})},shareTextAndImage(text,image_url){window.natively.trigger(void 0,0,void 0,"share_text_and_image",{url:image_url,text:text})},shareFile(file_url){window.natively.trigger(void 0,2,void 0,"share_file",{url:file_url})},openExternalURL(url,external){const params={};params.url=void 0===url?"https://buildnatively.com":url;const isExternal=void 0!==external&&external;params.view=isExternal?"external":"web",window.natively.trigger(void 0,18,void 0,"open_link",params)},openExternalAppIOS(url){window.natively.trigger(void 0,0,void 0,"open_app",{url:url})},openAppSettings(){window.natively.trigger(void 0,0,void 0,"open_appsettings")},hapticPatternIOS(pattern,delay){window.natively.trigger(void 0,7,void 0,"haptic_pattern",{pattern:pattern,delay:delay})},hapticImpactIOS(type){window.natively.trigger(void 0,7,void 0,"haptic_impact",{type:type})},hapticNotificationIOS(type){window.natively.trigger(void 0,7,void 0,"haptic_notification",{type:type})},showAppToast(type,text){const params={};params.text=void 0===text?"":text,params.type=void 0===type?"DEFAULT":type,window.natively.trigger(void 0,0,void 0,"show_toast",params)},showAppBanner(type,title,description){const params={};params.type=void 0===type?"INFO":type,params.title=void 0===title?"":title,params.description=void 0===description?"":description,window.natively.trigger(void 0,0,void 0,"show_banner",params)},requestAppReview(){window.natively.trigger(void 0,0,void 0,"request_review")},setAppBackgroundColor(color){const params={color:color};window.natively.trigger(void 0,1,void 0,"app_background",params)},setAppProgressColor(color){const params={color:color};window.natively.trigger(void 0,1,void 0,"app_progress",params)},setAppSwipeNavigationIOS(toggle){const params={toggle:toggle};window.natively.trigger(void 0,1,void 0,"app_navigation",params)},setAppPullToRefresh(toggle){const params={toggle:toggle};window.natively.trigger(void 0,1,void 0,"app_pull",params)},setAppOrientation(orientation){const params={orientation:orientation};window.natively.trigger(void 0,3,void 0,"app_orientation",params)},setAppStatusBarStyleIOS(style){const params={style:style};window.natively.trigger(void 0,2,void 0,"status_bar_style",params)},hideLoadingScreen(){const params={show_loader:!1,auto_hide:!0};window.natively.trigger(void 0,17,void 0,"loading_screen",params)},showLoadingScreen(autoHide){const params={show_loader:!0,auto_hide:void 0!==autoHide&&autoHide};window.natively.trigger(void 0,17,void 0,"loading_screen",params)},async sendPushNotification(appId,payload,player_ids,isPreview){const filtered=player_ids.filter((id=>id.length>0));let notification={app_id:isPreview?"be83022a-1d08-45d0-a07a-0c3655666e17":appId,include_player_ids:[...new Set(filtered)]};payload.template_id?notification.template_id=payload.template_id:(notification.headings={},notification.headings.en=payload.title||"Empty Title",notification.contents={},notification.contents.en=payload.message||"Empty Message",payload.subtitle&&(notification.subtitle={},notification.subtitle.en=payload.subtitle),payload.redirect_url&&(notification.url=payload.redirect_url));const options={method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(notification)};return await fetch("https://onesignal.com/api/v1/notifications",options)}},window.natively.addObserver((()=>window.natively.trigger(void 0,0,(resp=>{window.natively.min_app_version=resp.minSDKVersion,window.natively.app_version=resp.sdkVersion}),"app_info",{})));class NativelyInfo{constructor(){const id=generateID();this.browserInfo=function(){return{isNativeApp:"undefined"!=typeof $agent,isIOSApp:window.navigator.userAgent.includes("Natively/iOS"),isAndroidApp:window.navigator.userAgent.includes("Natively/Android")}},this.getAppInfo=function(app_info_callback){window.natively.trigger(id,0,app_info_callback,"app_info")},this.connectivity=function(connectivity_callback){window.natively.trigger(void 0,0,connectivity_callback,"connectivity")},this.app_state=function(app_state_callback){window.natively.trigger(void 0,19,app_state_callback,"app_state")}}}class NativelyClipboard{constructor(){const id=generateID();this.copy=function(text){window.natively.trigger(void 0,11,void 0,"clipboard_copy",{text:text})},this.paste=function(paste_callback){window.natively.trigger(id,11,paste_callback,"clipboard_paste")}}}class NativelyPagesCache{constructor(){const id=generateID();this.currentPageCached=function(current_page_cached_callback){window.natively.trigger(id,4,current_page_cached_callback,"current_page_cached")},this.storeCurrentPage=function(store_current_page_callback){window.natively.trigger(id,4,store_current_page_callback,"store_current_page")},this.resetCurrentPage=function(reset_current_page_callback){window.natively.trigger(id,4,reset_current_page_callback,"reset_current_page")},this.resetAll=function(reset_all_callback){window.natively.trigger(id,4,reset_all_callback,"reset_all")}}}class NativelyNotifications{constructor(){const id=generateID();this.getOneSignalId=function(onesignal_playerid_callback){window.natively.trigger(id,0,onesignal_playerid_callback,"onesignal_playerid")},this.requestPermission=function(fallbackToSettings,push_register_callback){window.natively.trigger(id,0,push_register_callback,"push_register",{fallbackToSettings:fallbackToSettings})},this.getPermissionStatus=function(push_permission_callback){window.natively.trigger(id,0,push_permission_callback,"push_permission")}}}class NativelyGeolocation{constructor(){const id=generateID();this.getUserGeolocation=function(distance,geolocation_callback){window.natively.trigger(id,0,geolocation_callback,"geolocation",{distance:distance})},this.requestPermission=function(geo_register_callback){window.natively.trigger(id,0,geo_register_callback,"geo_register")},this.getPermissionStatus=function(geo_permission_callback){window.natively.trigger(id,0,geo_permission_callback,"geo_permission")}}}class NativelyLocation{constructor(){const id=generateID();this.current=function(minAccuracyIOS,accuracyTypeIOS,priority_android,location_callback){window.natively.trigger(id,12,location_callback,"location_current",{minAccuracy:minAccuracyIOS,accuracyType:accuracyTypeIOS,priority:priority_android})},this.permission=function(location_permission_callback){window.natively.trigger(id,6,location_permission_callback,"location_permission")},this.start=function(interval,minAccuracyIOS,accuracyTypeIOS,priority_android,location_callback){window.natively.trigger(id,12,location_callback,"location_start",{minAccuracy:minAccuracyIOS,accuracyType:accuracyTypeIOS,priority:priority_android,interval:interval})},this.stop=function(){window.natively.trigger(id,3,void 0,"location_stop",{})},this.startBackground=function(interval,minAccuracyIOS,accuracyTypeIOS,priority_android,responseIdentifier,location_bg_callback){const params={};params.identifier=void 0===responseIdentifier?"empty":responseIdentifier,params.interval=void 0===interval?6e4:interval,params.minAccuracy=void 0===minAccuracyIOS?50:minAccuracyIOS,params.accuracyType=void 0===accuracyTypeIOS?"Best":accuracyTypeIOS,params.priority=void 0===priority_android?"BALANCED":priority_android,window.natively.trigger(id,12,location_bg_callback,"location_start_bg",params)},this.statusBackground=function(location_bg_status_callback){window.natively.trigger(id,20,location_bg_status_callback,"location_status_bg",{})},this.stopBackground=function(location_bg_callback){window.natively.trigger(id,4,location_bg_callback,"location_stop_bg",{})}}}class NativelyMessage{constructor(){const id=generateID();this.sendSMS=function(body,recipient,send_sms_callback){const params={};params.body=void 0===body?"":body,params.recipient=void 0===recipient?"":recipient,window.natively.trigger(id,0,send_sms_callback,"send_sms",params)},this.sendEmail=function(subject,body,recipient,send_email_callback){const params={};params.subject=void 0===subject?"":subject,params.body=void 0===body?"":body,params.recipient=void 0===recipient?"":recipient,window.natively.trigger(id,0,send_email_callback,"send_email",params)}}}class NativelyStorage{constructor(){const id=generateID();this.setStorageValue=function(key,value){window.natively.trigger(id,0,void 0,"set_storage_value",{key:key,value:value})},this.getStorageValue=function(key,get_storage_value_callback){window.natively.trigger(id,0,get_storage_value_callback,"get_storage_value",{key:key})},this.removeStorageValue=function(key){window.natively.trigger(id,0,void 0,"remove_storage_value",{key:key})},this.resetStorage=function(){window.natively.trigger(id,0,void 0,"reset_storage")}}}class NativelyBiometrics{constructor(allowPass){this.allowPass=allowPass;const id=generateID();this.checkBiometricsSupport=function(biometrics_support_callback){window.natively.trigger(id,0,biometrics_support_callback,"biometrics_support",{allowPass:allowPass})},this.checkCredentials=function(biometrics_has_credentials_callback){window.natively.trigger(id,0,biometrics_has_credentials_callback,"biometrics_has_credentials")},this.verifyUserIdentify=function(biometrics_verify_callback){window.natively.trigger(id,0,biometrics_verify_callback,"biometrics_verify",{allowPass:allowPass})},this.getUserCredentials=function(biometrics_auth_callback){window.natively.trigger(id,0,biometrics_auth_callback,"biometrics_auth",{allowPass:allowPass})},this.removeUserCredentials=function(biometrics_remove_credentials_callback){window.natively.trigger(id,0,biometrics_remove_credentials_callback,"biometrics_remove_credentials")},this.saveUserCredentials=function(login,password,biometrics_auth_callback){window.natively.trigger(id,0,biometrics_auth_callback,"biometrics_auth",{allowPass:allowPass,login:login,password:password})}}}class NativelyDatePicker{constructor(){const id=generateID();this.showDatePicker=function(title,description,type,style,datepicker_callback){let params={};params.type=void 0===type?"DATE":type,params.style=void 0===style?"LIGHT":style,params.title=void 0===title?"":title,params.description=void 0===description?"":description,window.natively.trigger(id,0,datepicker_callback,"datepicker",params)}}}class NativelyCamera{constructor(){const id=generateID();this.showCamera=function(type,quality,camera,open_camera_callback){let params={};params.type=void 0===type?"photo":type,params.quality=void 0===quality?"high":quality,params.camera=void 0===camera?"BACK":camera,window.natively.trigger(id,2,open_camera_callback,"open_camera",params)}}}class NativelyHealth{constructor(){const id=generateID();this.available=function(available_callback){window.natively.trigger(id,10,available_callback,"health_available",{})},this.requestAuthorization=function(write_data_types,read_data_types,request_callback){window.natively.trigger(id,10,request_callback,"health_register",{write_data_types:write_data_types,read_data_types:read_data_types})},this.permissionStatus=function(data_type,callback){window.natively.trigger(id,10,callback,"health_permission",{data_type:data_type})},this.getAllCharacteristics=function(callback){window.natively.trigger(id,10,callback,"health_get_all_characteristics",{})},this.getStatisticQuantity=function(data_type,interval,start_date,end_date,callback){const obj={data_type:data_type,interval:interval};void 0!==start_date&&(obj.start_date=start_date.getTime()),void 0!==end_date&&(obj.end_date=end_date.getTime()),window.natively.trigger(id,10,callback,"health_get_statistic_quantity",obj)},this.getDailySleepAnalysis=function(start_date,end_date,limit,callback){const obj={limit:limit||100};void 0!==start_date&&(obj.start_date=start_date.getTime()),void 0!==end_date&&(obj.end_date=end_date.getTime()),window.natively.trigger(id,10,callback,"health_get_daily_sleep_analysis",obj)},this.getWorkouts=function(start_date,end_date,limit,callback){const obj={limit:limit||100};void 0!==start_date&&(obj.start_date=start_date.getTime()),void 0!==end_date&&(obj.end_date=end_date.getTime()),window.natively.trigger(id,21,callback,"health_get_workouts",obj)},this.getActivitySummary=function(start_date,end_date,callback){const obj={};void 0!==start_date&&(obj.start_date=start_date.getTime()),void 0!==end_date&&(obj.end_date=end_date.getTime()),window.natively.trigger(id,10,callback,"health_get_activity_summary",obj)}}}class NativelyScanner{constructor(){const id=generateID();this.showScanner=function(open_scanner_callback){window.natively.trigger(id,2,open_scanner_callback,"open_scanner",{})}}}class NativelyPurchases{constructor(){const id=generateID();this.login=function(login,customerEmail,login_callback){const email=void 0===customerEmail?"":customerEmail;window.natively.trigger(id,3,login_callback,"purchases_login",{login:login,email:email})},this.logout=function(logout_callback){window.natively.trigger(id,3,logout_callback,"purchases_logout",{})},this.customerId=function(customer_id_callback){window.natively.trigger(id,3,customer_id_callback,"purchases_customerid",{})},this.restore=function(restore_callback){window.natively.trigger(id,10,restore_callback,"purchases_restore",{})},this.purchasePackage=function(packageId,purchase_callback){window.natively.trigger(id,3,purchase_callback,"purchases_package",{packageId:packageId})},this.packagePrice=function(packageId,purchase_callback){window.natively.trigger(id,8,purchase_callback,"purchases_price",{packageId:packageId})}}}class NativelyContacts{constructor(){const id=generateID();this.getAllContacts=function(contacts_all_callback){window.natively.trigger(id,3,contacts_all_callback,"contacts_all",{})},this.createContact=function(firstName,lastName,email,phone,contacts_save_callback){let params={firstName:firstName};params.lastName=void 0===lastName?"":lastName,params.email=void 0===email?"":email,params.phone=void 0===phone?"":phone,window.natively.trigger(id,3,contacts_save_callback,"contacts_save",params)}}}class NativelyMediaPicker{constructor(){const id=generateID();this.showMediaPicker=function(mediapicker_callback){window.natively.trigger(id,8,mediapicker_callback,"mediapicker",{})}}}class NativelyAudioRecorder{constructor(){const id=generateID();this.showRecorder=function(max_duration,record_callback){let params={};params.max_duration=void 0===max_duration?0:max_duration,window.natively.trigger(id,13,record_callback,"record_start",params)}}}class NativelyAdmobBanner{constructor(config={iOSUnitId:"ca-app-pub-3940256099942544/2934735716",androidUnitId:"ca-app-pub-3940256099942544/6300978111",position:"BOTTOM",sizeType:"AUTO",custom_width:320,custom_height:50},setup_callback=void 0,preload_ad=!1,preload_callback=void 0,show_ad=!1,show_callback=void 0){const id=generateID(),params={};window.natively.isAndroidApp?params.unitId=void 0===config.androidUnitId?"ca-app-pub-3940256099942544/6300978111":config.androidUnitId:window.natively.isIOSApp&&(params.unitId=void 0===config.iOSUnitId?"ca-app-pub-3940256099942544/2934735716":config.iOSUnitId),params.position=void 0===config.position?"BOTTOM":config.position,params.sizeType=void 0===config.sizeType?"AUTO":config.sizeType,params.width=void 0===config.custom_width?320:config.width,params.height=void 0===config.custom_height?50:config.height,window.natively.trigger(id,14,(function(resp){void 0!==setup_callback&&setup_callback(resp),preload_ad&&window.natively.trigger(id,14,(function(resp){void 0!==preload_callback&&preload_callback(resp),show_ad&&window.natively.trigger(id,14,show_callback,"bannerad_show",{})}),"bannerad_load",{})}),"bannerad_setup",params),this.loadAd=function(callback){window.natively.trigger(id,14,callback,"bannerad_load",{})},this.showBanner=function(callback){window.natively.trigger(id,14,callback,"bannerad_show",{})},this.hideBanner=function(callback){window.natively.trigger(id,14,callback,"bannerad_hide",{})},this.bannerIsReady=function(callback){window.natively.trigger(id,14,callback,"bannerad_ready",{})},this.bannerIsVisible=function(callback){window.natively.trigger(id,14,callback,"bannerad_visible",{})}}}class NativelyAdmobInterstitial{constructor(iOSUnitId="ca-app-pub-3940256099942544/4411468910",androidUnitId="ca-app-pub-3940256099942544/1033173712",setup_callback=void 0,auto_ad_reload=!1,auto_ad_reload_callback=void 0){const id=generateID();let unitId;window.natively.isAndroidApp?unitId=void 0===androidUnitId?"ca-app-pub-3940256099942544/1033173712":androidUnitId:window.natively.isIOSApp&&(unitId=void 0===iOSUnitId?"ca-app-pub-3940256099942544/4411468910":iOSUnitId),this.loadAd=function(callback){const params={};params.unitId=void 0===unitId?"ca-app-pub-3940256099942544/4411468910":unitId,window.natively.trigger(id,14,callback,"interstitialad_setup",params)},this.showInterstitialAd=function(callback){window.natively.trigger(id,14,(function(resp){if(callback(resp),"DID_DISMISS_AD"===resp.event&&auto_ad_reload){const params={};params.unitId=unitId,setTimeout((()=>{window.natively.trigger(id,14,auto_ad_reload_callback,"interstitialad_setup",params)}),500)}}),"interstitialad_show",{})},this.interstitialIsReady=function(callback){window.natively.trigger(id,14,callback,"interstitialad_ready",{})},this.loadAd(setup_callback)}}class NativelyNFCService{constructor(readAlertMessage,writeAlertMessage,readDetectedMessage,writeDetectedMessage){const id=generateID();this.readAlertMessage=readAlertMessage,this.writeAlertMessage=writeAlertMessage,this.readDetectedMessage=readDetectedMessage,this.writeDetectedMessage=writeDetectedMessage,this.read=function(callback){let params={};params.alertMessage=void 0===this.readAlertMessage?"please set readAlertMessage":this.readAlertMessage,params.detectedMessage=void 0===this.readDetectedMessage?"readDetectedMessage":this.readDetectedMessage,window.natively.trigger(id,15,callback,"nfc_read",params)},this.write=function(recordId,recordData,callback){let params={};params.alertMessage=void 0===this.writeAlertMessage?"please set writeAlertMessage":this.writeAlertMessage,params.detectedMessage=void 0===this.writeDetectedMessage?"please set writeDetectedMessage":this.writeDetectedMessage,params.recordData=void 0===recordData?"please set recordData":recordData,params.recordId=void 0===recordId?"please set recordId":recordId,window.natively.trigger(id,15,callback,"nfc_write",params)},this.available=function(callback){window.natively.trigger(id,15,callback,"nfc_available",{})}}}class NativelyAppleSignInService{constructor(){const id=generateID();this.signin=function(callback){window.natively.trigger(id,16,callback,"apple_signin",{})}}}function generateID(){return Date.now().toString(36)+Math.random().toString(36).substring(2)}