(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();const i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e.g?e.g:null;i&&(i.natively=new class{constructor(){var e,n,l,o;this.isDebug=!1,this.min_app_version=0,this.app_version=0,this.injected=!1,this.observers=[],this.isIOSApp=(null===(n=null===(e=null==i?void 0:i.navigator)||void 0===e?void 0:e.userAgent)||void 0===n?void 0:n.includes("Natively/iOS"))||!1,this.isAndroidApp=(null===(o=null===(l=null==i?void 0:i.navigator)||void 0===l?void 0:l.userAgent)||void 0===o?void 0:o.includes("Natively/Android"))||!1}setDebug(e){i&&(i.natively.isDebug=e)}notify(e,n){i&&(i.natively.injected=!0,e&&(i.natively.min_app_version=e),n&&(i.natively.app_version=n));const l=null==i?void 0:i.natively.observers;for((null==i?void 0:i.natively.isDebug)&&console.log("[INFO] Notify observers: ",l.length);l.length>0;){const e=l.shift();null==e||e()}}addObserver(e){(null==i?void 0:i.natively.injected)?e():((null==i?void 0:i.natively.isDebug)&&console.log(`[DEBUG] addObserver: ${e}`),null==i||i.natively.observers.push(e))}trigger(e,n,l,o,t){const s=null==i?void 0:i.natively.isDebug;if(null==i?void 0:i.natively.injected)if(n>(null==i?void 0:i.natively.app_version))s&&alert(`[ERROR] Please rebuild the app to use this functionality. App Version: ${null==i?void 0:i.natively.app_version}, feature version: ${n}`);else{if(l){let n;n=e?o+"_response_"+e:o+"_response",i&&(i[n]=function(o,t){null==i||i.$agent.response(),t.message&&s?alert(`[ERROR] Error message: ${t.message}`):(s&&console.log(`[DEBUG] Callback method: ${n}, body: ${JSON.stringify(o)}, respId: ${e}`),l(o))}),t?t.response_id=e:t={response_id:e}}s&&console.log(`[DEBUG] Trigger method: ${o}, body: ${JSON.stringify(t)}`),null==i||i.$agent.trigger(o,t)}else null==i||i.natively.addObserver((()=>{null==i||i.natively.trigger(e,n,l,o,t)}))}openLogger(){null==i||i.$agent.natively_logger()}openConsole(){null==i||i.natively.trigger(void 0,22,void 0,"app_console")}closeApp(){null==i||i.natively.trigger(void 0,11,void 0,"app_close")}showProgress(e){null==i||i.natively.trigger(void 0,11,void 0,"app_show_progress",{toggle:e})}shareImage(e){null==i||i.natively.trigger(void 0,0,void 0,"share_image",{url:e})}shareText(e){null==i||i.natively.trigger(void 0,0,void 0,"share_text",{text:e})}shareTextAndImage(e,n){null==i||i.natively.trigger(void 0,0,void 0,"share_text_and_image",{url:n,text:e})}shareFile(e){null==i||i.natively.trigger(void 0,2,void 0,"share_file",{url:e})}openExternalURL(e,n){const l={url:void 0===e?"https://buildnatively.com":e,view:void 0!==n&&n?"external":"web"};null==i||i.natively.trigger(void 0,18,void 0,"open_link",l)}}),null==i||i.natively.addObserver((()=>null==i?void 0:i.natively.trigger(void 0,0,(e=>{i&&(i.natively.min_app_version=e.minSDKVersion,i.natively.app_version=e.sdkVersion)}),"app_info",{})))})();